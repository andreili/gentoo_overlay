diff '--color=auto' -Naur OrcaSlicer-2.1.1_or/CMakeLists.txt OrcaSlicer-2.1.1/CMakeLists.txt
--- OrcaSlicer-2.1.1_or/CMakeLists.txt	2024-08-08 00:20:43.181267030 +0200
+++ OrcaSlicer-2.1.1/CMakeLists.txt	2024-08-08 01:05:13.851091014 +0200
@@ -403,6 +403,7 @@
 
 if(NOT SLIC3R_STATIC)
     target_compile_definitions(boost_headeronly INTERFACE BOOST_LOG_DYN_LINK)
+    target_compile_definitions(boost_headeronly INTERFACE BOOST_ALL_DYN_LINK)
 endif()
 
 function(slic3r_remap_configs targets from_Cfg to_Cfg)
diff '--color=auto' -Naur OrcaSlicer-2.1.1_or/src/libslic3r/CMakeLists.txt OrcaSlicer-2.1.1/src/libslic3r/CMakeLists.txt
--- OrcaSlicer-2.1.1_or/src/libslic3r/CMakeLists.txt	2024-08-08 00:20:43.167933750 +0200
+++ OrcaSlicer-2.1.1/src/libslic3r/CMakeLists.txt	2024-08-08 00:50:26.664223580 +0200
@@ -466,6 +466,8 @@
 
 if (SLIC3R_STATIC)
     set(CGAL_Boost_USE_STATIC_LIBS ON CACHE BOOL "" FORCE)
+else()
+    set(CGAL_Boost_USE_STATIC_LIBS OF CACHE BOOL "" FORCE)
 endif ()
 set(CGAL_DO_NOT_WARN_ABOUT_CMAKE_BUILD_TYPE ON CACHE BOOL "" FORCE)
 
@@ -475,7 +477,7 @@
 find_package(OpenCV REQUIRED core)
 cmake_policy(POP)
 
-add_library(libslic3r_cgal STATIC 
+add_library(libslic3r_cgal SHARED 
     CutSurface.hpp CutSurface.cpp
     IntersectionPoints.hpp IntersectionPoints.cpp
     MeshBoolean.hpp MeshBoolean.cpp
diff '--color=auto' -Naur OrcaSlicer-2.1.1_or/src/slic3r/CMakeLists.txt OrcaSlicer-2.1.1/src/slic3r/CMakeLists.txt
--- OrcaSlicer-2.1.1_or/src/slic3r/CMakeLists.txt	2024-08-08 00:20:43.177933710 +0200
+++ OrcaSlicer-2.1.1/src/slic3r/CMakeLists.txt	2024-08-08 00:38:04.098392643 +0200
@@ -601,7 +601,7 @@
     )
 endif ()
 
-add_library(libslic3r_gui STATIC ${SLIC3R_GUI_SOURCES})
+add_library(libslic3r_gui SHARED ${SLIC3R_GUI_SOURCES})
 target_include_directories(libslic3r_gui PRIVATE Utils)
 
 if (WIN32)
@@ -656,14 +656,14 @@
 # link these libraries.
 if (UNIX AND NOT APPLE)
     find_package(GTK${SLIC3R_GTK} REQUIRED)
-    if (FLATPAK)
+#    if (FLATPAK)
         # I don't know why this is needed, but for whatever reason slic3r isn't
         # linking to X11 and webkit2gtk. force it.
         find_package(X11 REQUIRED)
         find_package(PkgConfig REQUIRED)
-        pkg_check_modules(webkit2gtk REQUIRED webkit2gtk-4.1)
+        pkg_check_modules(webkit2gtk REQUIRED webkit2gtk-4.0)
         target_link_libraries (libslic3r_gui ${X11_LIBRARIES} ${webkit2gtk_LIBRARIES})
-    endif()
+#    endif()
     target_include_directories(libslic3r_gui PRIVATE ${GTK${SLIC3R_GTK}_INCLUDE_DIRS})
     target_link_libraries(libslic3r_gui ${GTK${SLIC3R_GTK}_LIBRARIES} fontconfig)
 
